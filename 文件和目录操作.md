## 文件和目录的操作

### Linux系统中文件和目录
- Linux中的目录也是一种的文件, 所以目录是有大小的. 

### 文件名和目录名
1. 区分大小写
2. 没有扩展名的概念, 但有些约定熟成, 比如shell脚本一般使用 .sh 结尾命名, 配置文件一般使用 .conf 结尾
3. 以"."(点)开头的文件为隐藏文件
4. 除了"/"(正斜杠)以外的所有字符都可以用作命名字符
5. 推荐使用的名称字符包括: 字母、数字、"."(点)、"_"(下划线)和"-"(连字符).  
6. 不建议使用一些特殊的字符的原因是, 这些特殊字符在linux命令解释器中有特殊的含义, 这样在使用比较复杂的命令时, 会导致二义性, 不利于理解. 比如在名称中使用空格, 当我们使用ls命令的时候可能会把一个文件当成好几个文件来看.


### 新建文件的方式
其实没有专门用于新建文件的命令, 一般都是使用一些命令附带创建新文件.常用的有touch, vim, 重定向符(>)
- (推荐使用)touch命令原本时用来把文件的访问时间或修改时间同步到当前的系统时间用的. 当文件不存在时, 可以用于创建一个新的空文件.
- 重定向符(>)后面可以接文件名, 如果重定向符前面的输出为空, 且重定向的文件不存在, 就会创建一个空的新文件, 如果输出不为空或者文件已经存在会修改现有文件的内容
- vim是一个编辑器, 通过该编辑器可以创建一个新的文件.


### 新建目录命令--mkdir
```bash
mkdir [选项]... 目录名...
```
mkdir用于新建目录, 如果目录已经存在, 会提示创建的目录已存在. 可以同时创建多个目录, 每个目录名之间使用空格分隔, 如果其中一个或多个目录已经存在, 会有一条或多条提示信息, 不存在的目录会继续创建.
- 参数 p 当创建的目录的父目录不存在时, 会自动创建父目录, 且不报错, 如果没有参数p, 会提示创建目录失败
- 参数 m 创建目录的同时设置目录的权限.  

### 重命名或移动
mv命令主要用于移动文件和目录的, 同时也可以对其进行重命名的操作, 对于文件的重命名有一个专门的命令rename, 不过这个命令一般用于批量操作. 
```bash
mv [选项]... 源... 目标
```
- 当重命名使用: 源和目标的父目录必须相同, 且源和目标的文件名或目录名必须不同.
- 当移动命令使用: 源和目标的父目录必须不同, 且源和目标的文件名或目录名必须相同.
- 移动且重命名: 源和目标的父目录不同, 且源和目标的文件名和目录名也不同.
```bash
# 重命名, 这里的abc既可以时文件也可以时目录名
mv  abc xyz 
# 移动, 移动时只需要写要移动到的位置, 文件名或目录名可以省略
mv abc ./temp/
# 移动且重命名
mv abc ./temp/xyz
```
rename只能对文件重命名, 是以字符串替换的方式批量对文件名进行操作
```bash
rename [选项] 表达式 替换 文件
```
- rename有三个必填参数, "表达式"是需要匹配的文件名中的字符串, "替换"替换后的字符串, 文件可以是单个文件也是文件列表. 
- rename支持通配符和正则表达式

### 文件详细信息中个字段的含义-- `ls -l`
```bash
[root@localhost ~]$ ls -l
lrwxrwxrwx. 1 root root    4 Dec 13 16:25 s -> s.sh
-rw-r--r--. 1 root root   16 Dec 13 16:19 s.sh
drwxr-xr-x. 4 root root  128 Dec 12 02:04 temp
-rw-r--r--. 1 root root   20 Dec 12 03:14 t.txt
```
- 文件类型: 第一列的第1个字节, (-)普通文件, (l)链接文件, (d)目录文件, (c)字符型文件, (b)块设备文件, (p)管道符文件, (s)套接字文件
- 权限: 第一列的2-11个字节,
- 连接数: 第二列, 
- 属主名: 第三列, 文件所有者的用户名
- 属组名: 第四列, 文件所属的用户组的组名
- 文件大小: 第五列, 以字节为单位

### 显示文件类型
有两种显示文件类型的方法, 一是: `ls -l`,根据详细信息的第一个字节可以判断对应的文件类型, 上面已经列出, 另一个是: `file`, 他描述的是更详细的文件类型, 比如文本型文件(同时指出编码格式), shell脚本文件, 二进制文件等.
```bash
file [选项] 文件名
```
参数-f, 用于同时辨别多个文件的类型, `file -f 文件1 文件2 文件3`

### 修改文件的编码格式
- vim查看和转换编码
- file 查看文件编码
- 文本文件编码转换--iconv 
```bash
iconv -f 编码 -t 编码 -o 输出文件 文件
```
-f, -t: 从什么编码转化成什么编码, -o: 编码转后的输出文件名, 文件: 需要做编码转换的文件, 另外参数-l, 可以列出所有已知的编码字符集
- 文件名编码转换--convmv, windows下面的文件名使用的是ansi编码,当传到linux下面时需要对名字做编码转换.



### 删除文件或目录
一个好的习惯是: 在删除一个目录前应该确保目录是个空目录. 所以我们有两个命令一个命令是是删除文件用的rm , 一个命令是用来删除空目录用的rmdir. 但实际上我们经常使用的是rm命令, 因为rm带上参数r后也可以用于删除目录,而且可以删除非空的目录. 
```bash
rm [选项] 文件
```
- 在centos中rm是rm -i的别名, 每当用rm删除文件的时候会询问是否要删除该文件
- 通过通配符的方式rm可以一次删除多个文件, 这时每删除一个就提示一次, 如果嫌太麻烦我们可以使用-I, 他可以在删除3个以上的文件时, 只提示一次, 少于3个不做提示.
- 如果要删除目录及目录下的所有内容, 可以使用-R(-r 小写也是一样的含义), 加上-I可以只提示一次.

### 列出目录的内容--ls
- 在文件名字结尾处追加文件类型标识符. 使用参数-F：具体含义：“*”表示具有可执行权限的普通文件，“/”表示目录，“@”表示符号链接，“|”表示命令管道FIFO，“=”表示sockets套接字。当文件为普通文件时，不输出任何标识符；
- 显示隐藏文件, 使用参数-a
- 以倒序的方式排列(z-a), 使用参数-r
- 以修改时间排序, 使用参数-t
- 以详细信息显示文件列表, 参数-l
- 以可读格式(例如1K 234M 2G)显示文件大小, 默认时字节(b). 使用参数-h, 这个要配合参数-l使用

### 改变当前目录到指定目录--cd
cd主要是用来改变当前工作的目录. 在使用cd时有些小的技巧
- `cd ~` 进入用户主目录
- `cd `  进入用户主目录
- `cd -` 返回进入当前目录之前所在的目录
- `cd ..`返回上一级目录
